---
title: SQL-Sicherheitsrisikobewertung – Azure SQL-Datenbank | Microsoft-Dokumentation
description: Erfahren Sie, wie Sie die SQL-Sicherheitsrisikobewertung in SQL-Datenbank konfigurieren und die Bewertungsberichte interpretieren.
services: sql-database
ms.service: sql-database
ms.subservice: security
ms.custom: ''
ms.devlang: ''
ms.topic: conceptual
author: ronitr
ms.author: ronitr
ms.reviewer: vanto, carlrab
manager: craigg
ms.date: 03/12/2019
ms.openlocfilehash: 6906c7f173daf93775758199c0e7802b571d8b63
ms.sourcegitcommit: d4dfbc34a1f03488e1b7bc5e711a11b72c717ada
ms.translationtype: HT
ms.contentlocale: de-DE
ms.lasthandoff: 06/13/2019
ms.locfileid: "65153001"
---
# <a name="sql-vulnerability-assessment-service-helps-you-identify-database-vulnerabilities"></a>Mit dem Dienst zur SQL-Sicherheitsrisikobewertung können Sie Datenbankschwachstellen erkennen.

Die SQL-Sicherheitsrisikobewertung ist ein einfach zu konfigurierender Dienst, mit dem potenzielle Schwachstellen in der Datenbank ermittelt, nachverfolgt und behoben werden können. Verwenden Sie diese, um Ihre Datenbanksicherheit proaktiv zu verbessern.

Die Sicherheitsrisikobewertung ist Bestandteil des Angebots [Advanced Data Security](sql-database-advanced-data-security.md) (ADS). Dabei handelt es sich um ein vereinheitlichtes Paket für erweiterte SQL-Sicherheitsfunktionen. Der Zugriff auf die Sicherheitsrisikobewertung und ihre Verwaltung sind über das zentrale SQL ADS-Portal möglich.

> [!NOTE]
> Die Sicherheitsrisikobewertung wird für Azure SQL-Datenbank, verwaltete Azure SQL-Datenbank-Instanz und Azure SQL Data Warehouse unterstützt. Der Einfachheit halber wird in diesem Artikel der Begriff „SQL-Datenbank“ verwendet, wenn auf einen dieser verwalteten Datenbankdienste Bezug genommen wird.

## <a name="the-vulnerability-assessment-service"></a>Dienst zur Sicherheitsrisikobewertung

Die SQL-Sicherheitsrisikobewertung ist ein Dienst, der Einblicke in Ihren Sicherheitsstatus bietet, umsetzbare Schritte zum Beheben von Sicherheitsproblemen enthält und Ihre Datenbanksicherheit verbessert. Dieser kann Ihnen bei Folgendem helfen:  

- Erfüllen der Konformitätsanforderungen, die die Berichte für die Datenbanküberprüfung erfordern  
- Erfüllen der Datenschutzstandards  
- Überwachen einer dynamischen Datenbankumgebung, bei der Änderungen schwer nachzuverfolgen sind.  

Die Sicherheitsrisikobewertung ist ein Überprüfungsdienst, der in den Azure SQL-Datenbank-Dienst integriert ist. Der Dienst verwendet eine Wissensdatenbank, die aus Regeln besteht, die Sicherheitsrisiken kennzeichnen und Abweichungen von bewährten Methoden hervorheben, z.B. Fehlkonfigurationen, übermäßige Berechtigungen und ungeschützte vertrauliche Daten. Die Regeln basieren auf bewährten Methoden von Microsoft und konzentrieren sich auf die Sicherheitsprobleme, die das größte Risiko für Ihre Datenbank und deren wertvolle Daten darstellt. Sie betreffen sowohl Probleme auf Datenbankebene als auch Sicherheitsprobleme auf Serverebene wie Server-Firewalleinstellungen und Berechtigungen auf Serverebene. Diese Regeln stellen darüber hinaus viele der Anforderung von Regulierungsbehörden dar, um deren Konformitätsstandards zu erfüllen.  

Die Ergebnisse der Überprüfung enthalten umsetzbare Schritte, um jedes Problem zu beheben und stellen gegebenenfalls benutzerdefinierte Wiederherstellungsskripts bereit. Ein Bewertungsbericht kann für Ihre Umgebung angepasst werden, indem eine akzeptable Baseline für Berechtigungskonfigurationen, Featurekonfigurationen und Datenbankeinstellungen festgelegt wird.

## <a name="implementing-vulnerability-assessment"></a>Implementieren der Sicherheitsrisikobewertung

Die folgenden Schritte implementieren die Sicherheitsrisikobewertung in SQL-Datenbank.  

### <a name="1-run-a-scan"></a>1. Ausführen eines Scans  

Aktivieren Sie die Sicherheitsrisikobewertung, indem Sie im Azure SQL-Datenbank-Bereich unter der Überschrift „Sicherheit“ zu **Advanced Data Security** navigieren. Aktivieren Sie Advanced Data Security durch Klicken, und klicken Sie dann auf **Speicher auswählen** oder auf die Karte **Sicherheitsrisikobewertung**. Dadurch wird die Karte „Einstellungen für Sicherheitsrisikobewertung“ für den gesamten SQL-Server automatisch geöffnet.

Konfigurieren Sie zunächst ein Speicherkonto, in dem Ihre Überprüfungsergebnisse für alle Datenbanken auf dem Server gespeichert werden. Weitere Informationen zu Speicherkonten finden Sie unter [Informationen zu Azure-Speicherkonten](../storage/common/storage-create-storage-account.md). Sobald der Speicher konfiguriert ist, klicken Sie auf **Überprüfen**, um Ihre Datenbank auf Sicherheitsrisiken zu überprüfen.
  
![Überprüfen einer Datenbank](./media/sql-vulnerability-assessment/pp_va_initialize.png)  

  > [!NOTE]
  > Die Überprüfung ist einfach und sicher. Die Ausführung dauert einige Sekunden und ist schreibgeschützt. Es werden keine Änderungen an Ihrer Datenbank vorgenommen.  

### <a name="2-view-the-report"></a>2. Anzeigen des Berichts

Wenn die Überprüfung abgeschlossen ist, wird Ihr Überprüfungsbericht automatisch im Azure-Portal angezeigt. Der Bericht bietet eine Übersicht über Ihren Sicherheitsstatus, wie viele Probleme gefunden wurden und deren jeweiligen Schweregrad. Die Ergebnisse schließen Warnungen zu Abweichungen von bewährten Methoden sowie eine Momentaufnahme Ihrer sicherheitsbezogenen Einstellungen ein, z.B. Datenbankprinzipale und Rollen mit ihren zugehörigen Berechtigungen. Der Überprüfungsbericht bietet außerdem eine Übersicht über erkannte sensible Daten in Ihrer Datenbank und Empfehlungen zur Klassifizierung dieser Daten mithilfe von [Datenermittlung und -klassifizierung](sql-database-data-discovery-and-classification.md).

![Anzeigen des Berichts](./media/sql-vulnerability-assessment/pp_main_getstarted.png)  

### <a name="3-analyze-the-results-and-resolve-issues"></a>3. Analysieren der Berichte und Beheben von Problemen

Überprüfen Sie Ihre Ergebnisse, und ermitteln Sie, bei welchen Ergebnissen im Bericht es sich um tatsächliche Sicherheitsprobleme in Ihrer Umgebung handelt. Führen Sie einen Drilldown für jedes fehlerhafte Ergebnis aus, um die Auswirkung des Ergebnisses und die Gründe für die Fehler bei den Sicherheitsüberprüfungen nachvollziehen zu können. Verwenden Sie die umsetzbaren Wiederherstellungsinformationen, die vom Bericht bereitgestellt werden, um das Problem zu beheben.  

![Analysieren des Berichts](./media/sql-vulnerability-assessment/pp_fail_rule_show_remediation.png)

### <a name="4-set-your-baseline"></a>4. Festlegen Ihrer Baseline

Wenn Sie Ihre Bewertungsergebnisse überprüfen, können Sie bestimmte Ergebnisse als akzeptable *Baseline* für Ihre Umgebung markieren. Die Baseline ist im Wesentlichen eine Einstellung, wie die Ergebnisse gemeldet werden. Ergebnisse, die mit der Baseline übereinstimmen, werden in nachfolgenden Überprüfungen als „akzeptiert“ angesehen. Sobald Sie den Sicherheitsstatus Ihrer Baseline festgelegt haben, berichtet die Sicherheitsrisikobewertung nur über Abweichungen von der Baseline, und Sie können sich auf die relevanten Probleme konzentrieren.  

![Festlegen Ihrer Baseline](./media/sql-vulnerability-assessment/pp_fail_rule_show_baseline.png)  

### <a name="5-run-a-new-scan-to-see-your-customized-tracking-report"></a>5. Ausführen eines neuen Scans, um Ihren benutzerdefinierten Nachverfolgungsbericht anzuzeigen

Nachdem Sie die Einrichtung der **Baselines für Ihre Regeln** abgeschlossen haben, führen Sie eine neue Überprüfung aus, um den benutzerdefinierten Bericht anzuzeigen. Die Sicherheitsrisikobewertung meldet nun nur die Sicherheitsprobleme, die von Ihrem genehmigten Baselinestatus abweichen.

![Anzeige des benutzerdefinierten Berichts](./media/sql-vulnerability-assessment/pp_pass_main_with_baselines.png)  

Die Sicherheitsrisikobewertung kann nun verwendet werden, um zu überwachen, dass Ihre Datenbank jederzeit über ein hohes Maß an Sicherheit verfügt und dass die Organisationsrichtlinien erfüllt werden. Wenn Konformitätsberichte erforderlich sind, können die Berichte der Sicherheitsrisikobewertung nützlich sein, um den Konformitätsvorgang zu erleichtern.  

### <a name="6-set-up-periodic-recurring-scans"></a>6. Einrichten von regelmäßig wiederkehrenden Überprüfungen

Navigieren Sie zu den Einstellungen der Sicherheitsrisikobewertung, um **Regelmäßig wiederkehrende Überprüfungen** zu aktivieren. Dadurch wird die Sicherheitsrisikobewertung dafür konfiguriert, automatisch einmal pro Woche eine Überprüfung der Datenbank auszuführen. Eine Zusammenfassung der Scanergebnisse wird an die angegebenen E-Mail-Adressen gesendet.

![Anzeige des benutzerdefinierten Berichts](./media/sql-vulnerability-assessment/pp_recurring_scans.png)

### <a name="7-export-an-assessment-report"></a>7. Exportieren eines Bewertungsberichts

Klicken Sie auf **Überprüfungsergebnisse exportieren**, um einen herunterladbaren Excel-Bericht der Überprüfungsergebnisse zu erstellen. Dieser Bericht enthält eine Registerkarte, die eine Zusammenfassung der Bewertung enthält, einschließlich aller fehlerhaften Überprüfungen. Er enthält auch eine Registerkarte **Ergebnisse** mit den vollständigen Ergebnissen der Überprüfung, einschließlich aller Überprüfungen, die ausgeführt wurden, und der jeweiligen Ergebnisdetails.

### <a name="8-view-scan-history"></a>8. Anzeigen des Überprüfungsverlaufs

Klicken Sie auf **Überprüfungsverlauf** im Bereich der Sicherheitsrisikobewertung, um einen Verlauf aller zuvor für diese Datenbank ausgeführten Überprüfungen anzuzeigen. Wählen Sie eine bestimmte Überprüfung in der Liste aus, um die ausführlichen Ergebnisse dieser Überprüfung anzuzeigen.

Die Sicherheitsrisikobewertung kann nun verwendet werden, um zu überwachen, dass Ihre Datenbank jederzeit über ein hohes Maß an Sicherheit verfügt und dass die Organisationsrichtlinien erfüllt werden. Wenn Konformitätsberichte erforderlich sind, können die Berichte der Sicherheitsrisikobewertung nützlich sein, um den Konformitätsvorgang zu erleichtern.

## <a name="manage-vulnerability-assessments-using-azure-powershell"></a>Verwalten der Sicherheitsrisikobewertungen mithilfe von Azure PowerShell

[!INCLUDE [updated-for-az](../../includes/updated-for-az.md)]
> [!IMPORTANT]
> Das PowerShell Azure Resource Manager-Modul wird von der Azure SQL-Datenbank weiterhin unterstützt, aber alle zukünftigen Entwicklungen erfolgen für das Az.Sql-Modul. Informationen zu diesen Cmdlets finden Sie unter [AzureRM.Sql](https://docs.microsoft.com/powershell/module/AzureRM.Sql/). Die Argumente für die Befehle im Az- und den AzureRm-Modulen sind im Wesentlichen identisch.

Sie können die Azure PowerShell-Cmdlets verwenden, um Ihre Sicherheitsrisikobewertungen programmgesteuert zu verwalten. Die unterstützten Cmdlets sind die folgenden:

- [Update-AzSqlDatabaseVulnerabilityAssessmentSetting](https://docs.microsoft.com/powershell/module/az.sql/Update-azSqlDatabaseVulnerabilityAssessmentSetting)

  Aktualisiert die Einstellungen für die Sicherheitsrisikobewertung einer Datenbank.
- [Get-AzSqlDatabaseVulnerabilityAssessmentSetting](https://docs.microsoft.com/powershell/module/az.sql/Get-azSqlDatabaseVulnerabilityAssessmentSetting)

  Gibt die Einstellungen für die Sicherheitsrisikobewertung einer Datenbank zurück.
- [Clear-AzSqlDatabaseVulnerabilityAssessmentSetting](https://docs.microsoft.com/powershell/module/az.sql/Clear-azSqlDatabaseVulnerabilityAssessmentSetting)

  Löscht die Einstellungen für die Sicherheitsrisikobewertung einer Datenbank.
- [Set-AzSqlDatabaseVulnerabilityAssessmentRuleBaseline](https://docs.microsoft.com/powershell/module/az.sql/Set-azSqlDatabaseVulnerabilityAssessmentRuleBaseline)

  Legt die Baseline für die Regel zur Sicherheitsrisikobewertung fest.
- [Get-AzSqlDatabaseVulnerabilityAssessmentRuleBaseline](https://docs.microsoft.com/powershell/module/az.sql/Get-azSqlDatabaseVulnerabilityAssessmentRuleBaseline)

  Ruft die Baseline für die Regel zur Sicherheitsrisikobewertung für eine angegebene Regel ab.
- [Clear-AzSqlDatabaseVulnerabilityAssessmentRuleBaseline](https://docs.microsoft.com/powershell/module/az.sql/Clear-azSqlDatabaseVulnerabilityAssessmentRuleBaseline)

  Löscht die Baseline für die Regel zur Sicherheitsrisikobewertung. Legen Sie zunächst die Baseline fest, bevor Sie das Cmdlet zum Löschen verwenden.
- [Start-AzSqlDatabaseVulnerabilityAssessmentScan](https://docs.microsoft.com/powershell/module/az.sql/Start-azSqlDatabaseVulnerabilityAssessmentScan)

  Löst den Start einer Sicherheitsrisikobewertungsüberprüfung aus.
- [Get-AzSqlDatabaseVulnerabilityAssessmentScanRecord](https://docs.microsoft.com/powershell/module/az.sql/Get-azSqlDatabaseVulnerabilityAssessmentScanRecord)

   Ruft alle Überprüfungsdatensätze für die Sicherheitsrisikobewertung ab, die einer angegebenen Datenbank zugeordnet sind.
- [Convert-AzSqlDatabaseVulnerabilityAssessmentScan](https://docs.microsoft.com/powershell/module/az.sql/Convert-azSqlDatabaseVulnerabilityAssessmentScan)

  Konvertiert die Überprüfungsergebnisse der Sicherheitsrisikobewertung in eine Excel-Datei.

Ein Skriptbeispiel finden Sie im Blogbeitrag [Azure SQL Vulnerability Assessment PowerShell support (SQL-Sicherheitsrisikobewertung: Unterstützung für PowerShell)](https://blogs.msdn.microsoft.com/sqlsecurity/20../../azure-sql-vulnerability-assessment-now-with-powershell-support/).

## <a name="next-steps"></a>Nächste Schritte  

- Erfahren Sie mehr über [Advanced Data Security](sql-database-advanced-data-security.md)
- Weitere Informationen zur [Datenermittlung und -klassifizierung](sql-database-data-discovery-and-classification.md)
